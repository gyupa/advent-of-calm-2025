{
  "$schema": "https://calm.finos.org/release/1.1/meta/calm.json",
  "unique-id": "customer-auth-system",
  "name": "Customer Authentication System",
  "description": "Core authentication service that validates user credentials and manages session tokens for secure customer access",
  "metadata": {
    "owner": "Security Team",
    "version": "1.0.0",
    "created": "2025-12-15",
    "description": "A CALM architecture modeling a customer authentication system with service, database, and user interactions",
    "tags": ["learning", "authentication", "demo"]
  },
  "nodes": [
    {
      "unique-id": "auth-service",
      "node-type": "service",
      "name": "Authentication Service",
      "description": "Validates user credentials and manages session tokens for customer authentication and authorization",
      "metadata": {
        "tech-owner": "Security Team",
        "repository": "https://github.com/company/auth-service",
        "deployment-type": "container",
        "sla-tier": "tier-1"
      },
      "interfaces": [
        {
          "unique-id": "auth-service-api",
          "definition-url": "https://my-enterprise/patterns/rest-api-interface.json",
          "config": {
            "host": "api.example.com",
            "port": 443,
            "basePath": "/api/v1",
            "authentication": "OAuth2"
          }
        }
      ]
    },
    {
      "unique-id": "user-database",
      "node-type": "database",
      "name": "User Database",
      "description": "Stores customer account information and session tokens used by the Authentication Service",
      "metadata": {
        "engine": "PostgreSQL",
        "tier": "primary"
      },
      "interfaces": [
        {
          "unique-id": "user-database-jdbc",
          "protocol": "JDBC",
          "host": "db.example.com",
          "port": 5432,
          "database": "auth_db"
        }
      ]
    },
    {
      "unique-id": "end-user",
      "node-type": "actor",
      "name": "End User",
      "description": "A customer or end user who authenticates to the system and uses the service"
    },
    {
      "unique-id": "authentication-system",
      "node-type": "system",
      "name": "Authentication System",
      "description": "Logical system that contains the Authentication Service and its User Database"
    }
  ],
  "relationships": [
    {
      "unique-id": "auth-service-connects-user-database",
      "description": "Authentication Service reads and writes customer and session data in the User Database",
      "relationship-type": {
        "connects": {
          "source": {
            "node": "auth-service",
            "interfaces": ["auth-service-api"]
          },
          "destination": {
            "node": "user-database",
            "interfaces": ["user-database-jdbc"]
          }
        }
      },
      "protocol": "JDBC",
      "metadata": {
        "latency-sla": "< 100ms",
        "monitoring": true,
        "circuit-breaker": true
      }
    },
    {
      "unique-id": "end-user-interacts-auth-service",
      "description": "End User interacts with the Authentication Service to sign in and manage sessions",
      "relationship-type": {
        "interacts": {
          "actor": "end-user",
          "nodes": [
            "auth-service"
          ]
        }
      }
    },
    {
      "unique-id": "authentication-system-composed-of-auth-service-and-user-database",
      "description": "Authentication System is composed of the Authentication Service and the User Database",
      "relationship-type": {
        "composed-of": {
          "container": "authentication-system",
          "nodes": [
            "auth-service",
            "user-database"
          ]
        }
      }
    }
  ]
}